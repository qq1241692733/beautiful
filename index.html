<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ¬æ¥ç¾ Â· è§å¤©åœ° | The Original Beauty</title>
    
    <!-- æ ¸å¿ƒå¼•æ“ CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script> 
    
    <!-- å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;700&family=Noto+Sans+SC:wght@300;400&display=swap" rel="stylesheet">
    
    <style>
        /* åŸºç¡€æ ·å¼è®¾å®š */
        body {
            font-family: 'Noto Sans SC', sans-serif;
            overflow-x: hidden;
            background-color: #0a0a0a;
            color: #e5e5e5;
            margin: 0;
        }

        .font-serif-sc {
            font-family: 'Noto Serif SC', serif;
        }
        
        .font-sans-sc {
            font-family: 'Noto Sans SC', sans-serif;
        }

        /* åŠ¨ç”»å®šä¹‰ */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        /* ä¼˜åŒ–åçš„å‘¼å¸åŠ¨ç”»ï¼šæ›´æ…¢ã€æ›´å¾®å¦™ */
        @keyframes breathe {
            0%, 100% { opacity: 0.05; transform: scale(1); } /* ä¿æŒéå¸¸ä½çš„åˆå§‹é€æ˜åº¦ */
            50% { opacity: 0.15; transform: scale(1.05); } /* è½»å¾®æ”¾å¤§å’Œæå‡é€æ˜åº¦ */
        }

        @keyframes grain {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-5%, -10%); }
            20% { transform: translate(-15%, 5%); }
            30% { transform: translate(7%, -25%); }
            40% { transform: translate(-5%, 25%); }
            50% { transform: translate(-15%, 10%); }
            60% { transform: translate(15%, 0%); }
            70% { transform: translate(0%, 15%); }
            80% { transform: translate(3%, 35%); }
            90% { transform: translate(-10%, 10%); }
        }

        /* Toast æç¤ºæ¡†è¿›å…¥åŠ¨ç”» */
        @keyframes fadeInSlideUp {
            0% { opacity: 0; transform: translate(-50%, 20px); }
            100% { opacity: 1; transform: translate(-50%, 0); }
        }
        .toast-in {
            animation: fadeInSlideUp 0.5s ease-out forwards;
        }

        /* å™ªç‚¹çº¹ç† */
        .bg-grain::after {
            content: "";
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            animation: grain 8s steps(10) infinite;
            pointer-events: none;
            z-index: 1;
        }

        /* ç»ç’ƒæ€æ•ˆæœ */
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯éŸ³ä¹éŸ³é¢‘æ ‡ç­¾ - è¯·åœ¨ src ä¸­æ›¿æ¢ä¸ºæ‚¨çš„ MP3 é“¾æ¥æˆ–ç›¸å¯¹è·¯å¾„ -->
    <audio id="bg-music" loop muted preload="auto">
        <source src="aaa.m4a" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
    </audio>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // --- é€šç”¨ç¬¦å· ---
        // æ•…äº‹å¹•å¸ƒçš„ç¬¦å·
        const ActSymbols = [ "ğŸŒ¬", "ğŸ‘", "CROWN" ]; // é£, çœ¼ç›, çš‡å†  (å ä½ç¬¦)
        
        // --- æ•°æ®: åäºŒèŠ±å“ ---
        const flowers = [
            { id: 1, name: "æ¢…", en: "Plum", quote: "æ®‹ç¼ºï¼Œæ˜¯ç”Ÿå‘½åŠ›ç•™ä¸‹çš„é½¿ç—•ã€‚", desc: "æ‰€è°“å®Œç¾ï¼Œå¸¸å¸¸æ˜¯å¹³åº¸çš„åˆ«åã€‚ä½ èº«ä¸Šçš„è£‚ç—•ï¼Œæ­£æ˜¯å…‰ç…§è¿›æ¥çš„åœ°æ–¹ã€‚ä¸å±ˆï¼Œå³å¤§ç¾ã€‚", color: "from-rose-900 to-stone-800" },
            { id: 2, name: "æ¨±", en: "Cherry", quote: "ç¾æ€¯ï¼Œæ˜¯çµé­‚æœ€å¹²å‡€çš„åº•è‰²ã€‚", desc: "ä¸å¿…å¼ºè£…é•¿è¢–å–„èˆã€‚é‚£ä½å¤´çš„æ¸©æŸ”ï¼Œé‚£æ˜“ç¢çš„åˆ¹é‚£ï¼Œæ˜¯ä¸–æ•…ä¸–ç•Œé‡Œæœ€åçš„çº¯çœŸé˜²å¾¡ã€‚", color: "from-pink-900 to-stone-900" },
            { id: 3, name: "æ¡ƒ", en: "Peach", quote: "ä½ çš„æ›²çº¿ï¼Œæ˜¯çµæ€§åœ¨è·³èˆã€‚", desc: "å¦–å¨†ä¸æ˜¯ç½ªï¼Œæ˜¯ç”Ÿå‘½åŠ›çš„æº¢å‡ºã€‚æ‰¿è®¤ä½ çš„æ¸´æœ›ï¼Œæ‰¿è®¤ä½ çš„è‰²å½©ï¼Œåƒæ¡ƒèŠ±ä¸€æ ·ï¼Œå³ä¾¿åªå¼€ä¸€å­£ï¼Œä¹Ÿè¦å å°½æ˜¥å…‰ã€‚", color: "from-fuchsia-990 to-stone-900" },
            { id: 4, name: "è¼", en: "Tea Rose", quote: "æè‡´ï¼Œå°±æ˜¯ä»¥èº«ç‡ƒç«ã€‚", desc: "å¹³æ·¡çš„æ´»ä¸€ä¸‡å¤©ï¼Œä¸å¦‚ç¿çƒ‚åœ°çƒ§ä¸€åˆ†é’Ÿã€‚æ—¢ç„¶ç››å¼€ï¼Œå°±ä¸è¦ç•™æœ‰ä½™åœ°ï¼Œå¼€åˆ°è¼è˜¼ï¼Œæ˜¯ç»™è‡ªå·±çš„äº¤ä»£ã€‚", color: "from-red-900 to-stone-900" },
            { id: 5, name: "çŸ³æ¦´", en: "Pomegranate", quote: "çˆ±è‡ªå·±ï¼Œæ˜¯ä¸€åˆ‡æ»‹å…»çš„æ ¹ç³»ã€‚", desc: "åˆ«ä¸è‡ªå·±ä¸ºæ•Œã€‚åƒçŸ³æ¦´ä¸€æ ·ï¼ŒæŠŠæ‰€æœ‰çš„ç”œç¾ã€æ‰€æœ‰çš„æ™¶è¹ï¼Œéƒ½ç´§ç´§æŠ±åœ¨æ€€é‡Œï¼Œå…ˆé¥±æ»¡è‡ªå·±ï¼Œå†ä¾›å…»ä¸–ç•Œã€‚", color: "from-orange-900 to-stone-900" },
            { id: 6, name: "è²", en: "Lotus", quote: "æ— è®ºèº«åœ¨ä½•å¤„ï¼Œå¿ƒæ˜¯è‡ªç”±çš„ã€‚", desc: "æ·¤æ³¥ä¸æ˜¯è´Ÿæ‹…ï¼Œè€Œæ˜¯å…»åˆ†ã€‚çœŸæ­£çš„çº¯å‡€ï¼Œä¸æ˜¯ä»æœªè¢«æŸ“æŒ‡ï¼Œè€Œæ˜¯éå†æµ‘æµŠï¼Œä¾ç„¶é€‰æ‹©æ¸…ç™½ã€‚", color: "from-emerald-900 to-stone-990" },
            { id: 7, name: "åˆæ¬¢", en: "Mimosa", quote: "é€€è®©ä¸€æ­¥ï¼Œç¾å°±æœ‰äº†å‘¼å¸ã€‚", desc: "å¹¶ä¸æ˜¯æ‰€æœ‰çš„é”‹èŠ’éƒ½è¦åˆºå‘ä¸–ç•Œã€‚æ‡‚å¾—æ”¶æ•›ï¼Œæ‡‚å¾—åœ¨å¤œé‡Œåˆæ‹¢å¶ç‰‡ï¼Œæ˜¯ä¸ºäº†åœ¨æ˜å¤©ï¼Œæ›´æ¸©æŸ”åœ°æ‹¥æŠ±é˜³å…‰ã€‚", color: "from-indigo-900 to-stone-900" },
            { id: 8, name: "æ§", en: "Locust", quote: "é™é»˜ä¹‹å¤„ï¼Œæœ‰æƒŠé›·ã€‚", desc: "å¹¶ä¸æ˜¯åªæœ‰ç«™åœ¨èšå…‰ç¯ä¸‹çš„æ‰å«ä¸»è§’ã€‚åœ¨ä¸èµ·çœ¼çš„è§’è½ï¼Œåçº³èŠ¬èŠ³ï¼Œè¿™ç§éšå¿çš„åŠ›é‡ï¼Œè¶³ä»¥éœ‡æ…‘å–§åš£ã€‚", color: "from-yellow-900 to-stone-900" },
            { id: 9, name: "èŠ", en: "Chrysanthemum", quote: "æ·±è—ï¼Œæ˜¯å²æœˆé…¿å‡ºçš„æ²‰é¦™ã€‚", desc: "ä¸äº‰æ˜¥ï¼Œä¸æŠ¢å¤ã€‚æŠŠæ‰€æœ‰çš„é£éœœéƒ½åä¸‹ï¼ŒåŒ–ä½œç§‹é£é‡Œçš„ä¸€æŠ¹æ·¡ç„¶ã€‚æ™šä¸€ç‚¹å¼€æ²¡å…³ç³»ï¼Œåªè¦æ˜¯ä½ ã€‚", color: "from-amber-900 to-stone-900" },
            { id: 10, name: "èŠ¦", en: "Reed", quote: "å¸å¦†ä¹‹åï¼Œç”Ÿå‘½è½»å¦‚ç¾½æ¯›ã€‚", desc: "è´¨æœ´æ˜¯æœ€å¤§çš„å¥¢åã€‚ä¸éœ€è¦è‰²å½©çš„æ­¦è£…ï¼Œéšé£è€ŒåŠ¨ï¼Œé¡ºåŠ¿è€Œä¸ºï¼Œåœ¨æŸ”éŸ§ä¸­ï¼Œçœ‹è§æœ¬çœŸçš„æ¨¡æ ·ã€‚", color: "from-stone-700 to-stone-900" },
            { id: 11, name: "èŠ™è“‰", en: "Hibiscus", quote: "çŸ¥è¾¹ç•Œï¼Œæ–¹èƒ½ç«‹ç¾ã€‚", desc: "æ‡‚å¾—æ‹’ç»ï¼Œæ‡‚å¾—åœ¨æœæš®é—´å˜æ¢é¢œè‰²ã€‚ä½ çš„ç¾ä¸½ä¸éœ€è¦è®¨å¥½æ‰€æœ‰äººï¼Œå®ˆä½è¾¹ç•Œï¼Œå°±æ˜¯å®ˆä½å°Šä¸¥ã€‚", color: "from-purple-900 to-stone-900" },
            { id: 12, name: "æ°´ä»™", en: "Narcissus", quote: "å­¤ç‹¬ï¼Œæ˜¯ä¸è‡ªå·±é‡é€¢çš„å–œé…’ã€‚", desc: "ä¸è¦å®³æ€•åªå‰©è‡ªå·±ã€‚åœ¨æ°´ä¸­é¡¾å½±è‡ªæ€œå¹¶éåäº‹ï¼Œé‚£æ˜¯ä½ ç»ˆäºçœ‹æ¸…äº†ï¼Œè¿™ä¸–ç•Œä¸Šæœ€å€¼å¾—çˆ±çš„äººï¼Œæ˜¯ä½ è‡ªå·±ã€‚", color: "from-cyan-900 to-stone-900" }
        ];

        const acts = [
            {
                title: "ç¬¬ä¸€å¹•ï¼šå°˜å°",
                text: "åªæœ‰æ³¥åœŸçŸ¥é“ï¼Œç§å­åœ¨é»‘æš—ä¸­å¦‚ä½•å‘¼å¸ã€‚\nç²—ç³™çš„æ‰‹ï¼Œæ‰æç€æœªè¢«å®šä¹‰çš„å½¢çŠ¶ã€‚\næˆ‘ä»¬ä»¥ä¸ºè¿™æ˜¯å°˜åŸƒï¼Œå…¶å®ï¼Œ\nè¿™æ˜¯æ²‰ç¡çš„é‡‘å­ã€‚",
                buttonText: "çœ‹è§å…‰",
                symbol: ActSymbols[0]
            },
            {
                title: "ç¬¬äºŒå¹•ï¼šæ³¨è§†",
                text: "æ‰€è°“â€œçœ‹è§â€ï¼Œä¸æ˜¯å±…é«˜ä¸´ä¸‹çš„æ€œæ‚¯ï¼Œ\nè€Œæ˜¯çµé­‚ä¸çµé­‚çš„å¹³è§†ã€‚\nåœ¨é‚£å¹…çº¿æ¡é¢¤æŠ–çš„ç”»ä½œé‡Œï¼Œ\nç”Ÿå‘½åŠ›æ­£åœ¨å²©çŸ³ç¼éš™ä¸­ï¼ŒæƒŠå¿ƒåŠ¨é­„åœ°çˆ†ç ´ã€‚",
                buttonText: "èµ°å‘èˆå°",
                symbol: ActSymbols[1]
            },
            {
                title: "ç¬¬ä¸‰å¹•ï¼šåŠ å†•",
                text: "å½“å°Šä¸¥è¢«å®šä»·ï¼Œä»·å€¼ä¾¿ä¸å†æµæµªã€‚\næƒŠæ„•è¤ªå»ï¼Œè‡ªä¿¡å‡èµ·ã€‚\nèˆå°æ­å¥½äº†ã€‚\nç°åœ¨ï¼Œè¯·å…è®¸èŠ±æœµï¼Œå‘ä¸–ç•Œå®£ç¤ºå®ƒçš„ä¸»æƒã€‚",
                symbol: ActSymbols[2]
            }
        ];


        // --- ç»„ä»¶ ---

        // å¢å¼ºç‰ˆè¿”å›æŒ‰é’® - æ›´çªå‡ºæ˜æ˜¾
        const BackButton = ({ onClick, label = "è¿”å›" }) => (
            <button 
                onClick={onClick}
                className="fixed top-6 left-6 z-50 flex items-center space-x-2 text-white bg-white/5 backdrop-blur-md pl-3 pr-4 py-2 rounded-full border border-white/20 shadow-lg 
                           hover:bg-white/10 transition-all duration-300 transform active:scale-95 group"
            >
                <span className="text-xl leading-none transition-transform group-hover:-translate-x-0.5">&larr;</span> {/* å·¦ç®­å¤´ç¬¦å· */}
                <span className="text-sm tracking-widest font-medium hidden sm:inline-block">{label}</span>
            </button>
        );
        
        // éŸ³ä¹æ§åˆ¶æŒ‰é’®ç»„ä»¶ (ä½¿ç”¨ Emoji æ›¿ä»£)
        const MusicControl = ({ isMuted, toggleMute }) => (
            <button 
                onClick={toggleMute}
                className="fixed top-6 right-6 z-50 p-2 rounded-full glass text-white/80 hover:text-white hover:bg-white/10 transition-all duration-300"
                aria-label={isMuted ? "æ’­æ”¾éŸ³ä¹" : "é™éŸ³"}
            >
                {/* ä½¿ç”¨ Emoji ç¬¦å· */}
                <span className="text-xl leading-none">
                    {isMuted ? 'ğŸ”‡' : 'ğŸ¶'}
                </span>
            </button>
        );


        const ProgressIndicators = ({ total, current }) => (
            <div className="absolute bottom-12 left-1/2 -translate-x-1/2 flex space-x-4 z-30">
                {Array.from({ length: total }).map((_, idx) => (
                    <div 
                        key={idx}
                        className={`h-[2px] rounded-full transition-all duration-700 ${idx === current ? 'w-12 bg-white shadow-[0_0_10px_rgba(255,255,255,0.5)]' : 'w-3 bg-white/20'}`}
                    />
                ))}
            </div>
        );

        // Toast æç¤ºæ¡†ç»„ä»¶ï¼Œç”¨äºæ›¿ä»£ alert()
        const ToastMessage = ({ message }) => {
            if (!message || !message.text) return null;

            return (
                <div 
                    className="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-[60] p-4 glass rounded-lg shadow-xl toast-in"
                    style={{ willChange: 'transform, opacity' }}
                >
                    <p className="text-sm font-light text-white tracking-wider">{message.text}</p>
                </div>
            );
        };

        // Opening ç»„ä»¶
        const Opening = ({ onEnter, onShowProduct, onShowContact }) => {
            const [textVisible, setTextVisible] = useState(false);
            
            useEffect(() => {
                setTimeout(() => setTextVisible(true), 500);
            }, []);

            return (
                <div className="h-screen w-full flex flex-col justify-center items-center relative overflow-hidden bg-grain bg-black text-white font-sans-sc">
                    <div className={`z-10 text-center transition-all duration-[2000ms] transform ${textVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
                        <h1 className="font-serif-sc text-5xl md:text-7xl mb-6 tracking-widest font-light text-transparent bg-clip-text bg-gradient-to-b from-white to-gray-600">
                            æœ¬æ¥ç¾
                        </h1>
                        <p className="text-xs md:text-sm tracking-[0.3em] text-gray-400 uppercase mb-12">
                            The Original Beauty
                        </p>
                        <div className="max-w-md mx-auto space-y-4 mb-16 px-6">
                            <p className="text-lg md:text-xl font-light text-gray-300 leading-relaxed">
                                â€œç”Ÿå‘½ä¸éœ€è¦è¢«é›•åˆ»ï¼Œ<br/>åªéœ€è¦è¢«çœ‹è§ã€‚â€
                            </p>
                        </div>
                        
                        <button 
                            onClick={onEnter}
                            className="group relative px-8 py-3 overflow-hidden rounded-full glass hover:bg-white/10 transition-all duration-500 cursor-pointer"
                        >
                            <span className="relative z-10 text-sm tracking-widest text-gray-300 group-hover:text-white transition-colors">è¿›å…¥å±•å…</span>
                            <div className="absolute inset-0 bg-white/5 scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
                        </button>
                    </div>

                    {/* æ–°å¢ï¼šäº§å“å’Œè”ç³»æˆ‘çš„å…¥å£ */}
                    <div className="absolute bottom-10 left-0 right-0 z-10 flex justify-center space-x-8 text-sm text-white/30 tracking-widest">
                        <button 
                            onClick={onShowProduct} 
                            className="hover:text-white transition-colors duration-300 relative group"
                        >
                            <span className="group-hover:opacity-100 opacity-50 transition-opacity">äº§å“</span>
                            <span className="absolute left-1/2 -bottom-1 h-[1px] w-0 bg-white group-hover:w-full transition-all duration-300 -translate-x-1/2"></span>
                        </button>
                        <button 
                            onClick={onShowContact} 
                            className="hover:text-white transition-colors duration-300 relative group"
                        >
                            <span className="group-hover:opacity-100 opacity-50 transition-opacity">è”ç³»æˆ‘</span>
                            <span className="absolute left-1/2 -bottom-1 h-[1px] w-0 bg-white group-hover:w-full transition-all duration-300 -translate-x-1/2"></span>
                        </button>
                    </div>
                    
                    <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-stone-800 rounded-full mix-blend-screen filter blur-[100px] opacity-20 animate-pulse"></div>
                    <div className="absolute bottom-1/4 right-1/4 w-64 h-64 bg-gray-700 rounded-full mix-blend-screen filter blur-[80px] opacity-10"></div>
                </div>
            );
        };

        const StoryAct = ({ act, onNext, active, totalActs, currentActIndex }) => {
            if (!active) return null;
            
            // ç¬¬ä¸‰å¹•çš‡å† çš„ SVG æ¸²æŸ“
            const crownSvg = (
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className="text-white">
                    {/* çš‡å† ä¸»ä½“ï¼Œæ— å¡«å……è‰²ï¼Œåªæœ‰ç™½è‰²æè¾¹ */}
                    <path d="M12 16.5c-4 0-5.9-2.2-5.9-4.7s2-4.7 5.9-4.7 5.9 2.2 5.9 4.7-2 4.7-5.9 4.7z"/>
                    <path d="M3 13.5c0-1 1-1.5 2-1.5 1 0 2 .5 2 1.5"/>
                    <path d="M17 13.5c0-1 1-1.5 2-1.5 1 0 2 .5 2 1.5"/>
                    <path d="M12 7c-1 0-1.5-1.5-1.5-2.5 0-1 1-1.5 1.5-1.5s1.5 .5 1.5 1.5c0 1-.5 2.5-1.5 2.5z"/>
                    <path d="M10.5 7.5L4 16h16l-6.5-8.5z"/>
                </svg>
            );
            
            const renderSymbol = () => {
                // å¦‚æœæ˜¯ç¬¬ä¸‰å¹•ï¼Œæ¸²æŸ“ SVG çš‡å† 
                if (act.symbol === "CROWN") {
                    return crownSvg;
                }
                // å¦åˆ™æ¸²æŸ“åŸæ¥çš„ç¬¦å·
                return <span className="text-4xl text-white/90">{act.symbol}</span>;
            };

            return (
                <div className="absolute inset-0 flex flex-col items-center justify-center p-8 z-20 bg-black/80 backdrop-blur-sm transition-opacity duration-1000 font-sans-sc">
                    <div className="max-w-2xl w-full text-center space-y-8 animate-[float_6s_ease-in-out_infinite]">
                        
                        {/* æ¸²æŸ“ç¬¦å·/SVG */}
                        <div className="flex items-center justify-center space-x-3 mb-6">
                            {renderSymbol()}
                            <h2 className="font-serif-sc text-3xl md:text-4xl text-white">{act.title}</h2>
                        </div>
                        
                        <div className="w-12 h-[1px] bg-white/30 mx-auto"></div>
                        <p className="text-gray-300 text-lg md:text-xl leading-loose font-light whitespace-pre-line min-h-[160px] flex items-center justify-center">
                            {act.text}
                        </p>
                        
                        <div className="pt-12">
                            <button 
                                onClick={onNext}
                                className="group text-white/50 hover:text-white transition-colors duration-300 text-sm tracking-[0.2em] flex items-center justify-center mx-auto"
                            >
                                <span>{act.buttonText}</span>
                                <span className="ml-2 group-hover:translate-x-1 transition-transform">&rarr;</span>
                            </button>
                        </div>
                    </div>
                    
                    <ProgressIndicators total={totalActs} current={currentActIndex} />
                </div>
            );
        };

        const FlowerModal = ({ flower, onClose }) => {
            const [show, setShow] = useState(false);
            
            useEffect(() => {
                setShow(true);
                return () => setShow(false);
            }, []);

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md transition-opacity duration-500 font-sans-sc" onClick={onClose}>
                    <div 
                        className={`max-w-lg w-full glass rounded-2xl p-8 md:p-12 relative transform transition-all duration-700 ${show ? 'opacity-100 scale-100 translate-y-0' : 'opacity-0 scale-95 translate-y-10'} bg-gradient-to-br ${flower.color} bg-opacity-20 border border-white/10 shadow-2xl`}
                        onClick={e => e.stopPropagation()}
                    >
                        <button onClick={onClose} className="absolute top-4 right-4 p-2 rounded-full hover:bg-white/10 text-white/40 hover:text-white transition-colors">
                            âœ•
                        </button>
                        
                        {/* ç§»é™¤äº†å›¾æ ‡å®¹å™¨ï¼Œç›´æ¥å±•ç¤ºæ ‡é¢˜ */}
                        <div className="mb-8"> 
                            <h3 className="font-serif-sc text-3xl text-white">{flower.name}</h3>
                            <p className="text-xs text-white/40 uppercase tracking-widest">{flower.en}</p>
                        </div>
                        
                        <blockquote className="font-serif-sc text-xl md:text-2xl text-white/90 leading-relaxed mb-8 border-l-2 border-white/20 pl-6 italic">
                            "{flower.quote}"
                        </blockquote>
                        
                        <p className="text-gray-300 font-light leading-loose text-sm md:text-base">
                            {flower.desc}
                        </p>

                        <div className="mt-8 flex justify-end">
                             <span className="text-[10px] text-white/20 tracking-widest">THE ORIGINAL BEAUTY</span>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [scene, setScene] = useState('intro'); 
            const [currentAct, setCurrentAct] = useState(0);
            const [selectedFlower, setSelectedFlower] = useState(null);
            const [message, setMessage] = useState(null); // Toast æç¤ºæ¡†çŠ¶æ€
            const [isMuted, setIsMuted] = useState(true); // æ–°å¢ï¼šéŸ³ä¹é™éŸ³çŠ¶æ€

            // è·å–éŸ³é¢‘å…ƒç´ 
            const audioRef = React.useRef(null);
            useEffect(() => {
                audioRef.current = document.getElementById('bg-music');
                // ç¡®ä¿åˆå§‹çŠ¶æ€è®¾ç½®æ­£ç¡®ï¼Œå¦‚æœæµè§ˆå™¨å…è®¸è‡ªåŠ¨æ’­æ”¾ï¼ŒéŸ³é¢‘ä¼šå¼€å§‹å¾ªç¯æ’­æ”¾ä½†é™éŸ³
                if (audioRef.current) {
                    audioRef.current.muted = isMuted;
                    audioRef.current.volume = 0.5; // è®¾ç½®åˆå§‹éŸ³é‡
                    // å°è¯•æ’­æ”¾ (å³ä½¿é™éŸ³ï¼Œæœ‰äº›æµè§ˆå™¨ä¹Ÿå…è®¸æ’­æ”¾)
                    audioRef.current.play().catch(error => {
                        console.log("Audio play prevented:", error);
                        // å¦‚æœæ— æ³•æ’­æ”¾ï¼Œå°†æ’­æ”¾æ“ä½œç•™ç»™ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å‡» 'è¿›å…¥å±•å…' æ—¶è§¦å‘
                    });
                }
            }, []);

            // Toast æç¤ºå‡½æ•°
            const showMessage = (text, duration = 3000) => {
                setMessage({ text, duration });
                setTimeout(() => setMessage(null), duration);
            };

            // äº§å“ç‚¹å‡»å¤„ç†å‡½æ•°
            const handleShowProduct = () => {
                showMessage("æ•¬è¯·æœŸå¾…...", 3000);
            };

            // è”ç³»æˆ‘ç‚¹å‡»å¤„ç†å‡½æ•°
            const handleShowContact = () => {
                showMessage("æˆ‘çš„å¾®ä¿¡: jhy1241692733", 5000); // 5ç§’æ˜¾ç¤º
            };

            // éŸ³ä¹é™éŸ³/å–æ¶ˆé™éŸ³åˆ‡æ¢
            const toggleMusic = () => {
                if (audioRef.current) {
                    const newMutedState = !isMuted;
                    audioRef.current.muted = newMutedState;
                    setIsMuted(newMutedState);
                    
                    // å¦‚æœå–æ¶ˆé™éŸ³ï¼Œå°è¯•æ’­æ”¾ï¼ˆé˜²æ­¢æµè§ˆå™¨é˜»æ­¢æ’­æ”¾ï¼‰
                    if (!newMutedState) {
                        audioRef.current.play().catch(error => {
                            // æ’­æ”¾å¤±è´¥ï¼Œå¯èƒ½æ˜¯ç”¨æˆ·åœ¨é™éŸ³çŠ¶æ€ä¸‹å°è¯•æ’­æ”¾ï¼Œæµè§ˆå™¨éœ€è¦ç”¨æˆ·æ›´æ˜æ˜¾çš„äº¤äº’
                            console.error("Auto-unmute play failed:", error);
                        });
                    }
                }
            };

            const handleEnter = () => {
                // ç”¨æˆ·ç‚¹å‡» 'è¿›å…¥å±•å…' æ—¶ï¼Œå°è¯•æ’­æ”¾éŸ³ä¹å¹¶å–æ¶ˆé™éŸ³
                if (audioRef.current && isMuted) {
                    audioRef.current.muted = false;
                    setIsMuted(false);
                    audioRef.current.play().catch(error => {
                         console.error("Auto-unmute play failed:", error);
                         // å¦‚æœè‡ªåŠ¨å–æ¶ˆé™éŸ³æ’­æ”¾å¤±è´¥ï¼Œåˆ™ä¿æŒé™éŸ³ï¼Œè®©ç”¨æˆ·é€šè¿‡å³ä¸Šè§’æŒ‰é’®æ‰‹åŠ¨æ“ä½œ
                         audioRef.current.muted = true;
                         setIsMuted(true);
                         showMessage("è¯·ç‚¹å‡»å³ä¸Šè§’å›¾æ ‡æ’­æ”¾éŸ³ä¹ã€‚", 4000);
                    });
                }
                setScene('acts');
            };


            const handleNextAct = () => {
                if (currentAct < acts.length - 1) {
                    setCurrentAct(prev => prev + 1);
                } else {
                    setScene('garden');
                }
            };

            const handleBack = () => {
                if (selectedFlower) {
                    setSelectedFlower(null);
                    return;
                }
                if (scene === 'garden') {
                    setScene('acts');
                    setCurrentAct(acts.length - 1);
                    return;
                }
                if (scene === 'acts') {
                    if (currentAct > 0) {
                        setCurrentAct(prev => prev - 1);
                    } else {
                        setScene('intro');
                    }
                    return;
                }
            };

            return (
                <div className="min-h-screen bg-black text-white relative selection:bg-white/20 font-sans-sc">
                    
                    {/* å…¨å±€è¿”å›æŒ‰é’® */}
                    {scene !== 'intro' && (
                        <BackButton 
                            onClick={handleBack} 
                            label={scene === 'garden' && !selectedFlower ? "å›åˆ°æ•…äº‹" : "è¿”å›"}
                        />
                    )}

                    {/* éŸ³ä¹æ§åˆ¶æŒ‰é’® */}
                    <MusicControl isMuted={isMuted} toggleMute={toggleMusic} />
                    
                    {/* åœºæ™¯æ¸²æŸ“ */}
                    {scene === 'intro' && (
                        <Opening 
                            onEnter={handleEnter} 
                            onShowProduct={handleShowProduct} 
                            onShowContact={handleShowContact}
                        />
                    )}

                    {scene === 'acts' && (
                        <div className="relative h-screen w-full overflow-hidden bg-grain">
                            <div className={`absolute inset-0 transition-colors duration-[2000ms] 
                                ${currentAct === 0 ? 'bg-stone-900' : 
                                  currentAct === 1 ? 'bg-gray-800' : 
                                  'bg-slate-900'}`}>
                            </div>
                            
                            <div className={`absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[1000px] bg-white rounded-full filter blur-[150px] transition-all duration-[2000ms]
                                ${currentAct === 0 ? 'opacity-5 scale-50 -translate-y-1/2' : 
                                  currentAct === 1 ? 'opacity-10 scale-75 -translate-y-1/3' : 
                                  'opacity-20 scale-100 -translate-y-1/4'}`}>
                            </div>

                            <StoryAct 
                                active={true} 
                                act={acts[currentAct]} 
                                onNext={handleNextAct} 
                                totalActs={acts.length}
                                currentActIndex={currentAct}
                            />
                        </div>
                    )}

                    {scene === 'garden' && (
                        <div className="min-h-screen w-full bg-black bg-grain relative py-12 px-4 md:px-12 overflow-y-auto no-scrollbar">
                            
                            {/* NEW: å‘¼å¸å…‰æ™•èƒŒæ™¯å…ƒç´ ï¼Œä½¿ç”¨ä¿®æ”¹åçš„ breathe åŠ¨ç”» */}
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white rounded-full 
                                            filter blur-[180px] opacity-0 animate-[breathe_10s_ease-in-out_infinite] z-0">
                            </div>

                            <div className="text-center mb-16 z-10 relative animate-[float_4s_ease-in-out_infinite]">
                                <h2 className="font-serif-sc text-2xl text-white/80 tracking-widest mb-2">åäºŒèŠ±å“</h2>
                                <div className="w-px h-8 bg-gradient-to-b from-white/0 via-white/50 to-white/0 mx-auto"></div>
                                <p className="text-xs text-white/40 mt-2 uppercase tracking-[0.3em]">Life's Metaphor</p>
                            </div>

                            <div className="max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 pb-12 z-10 relative">
                                {flowers.map((flower, idx) => (
                                    <div 
                                        key={flower.id}
                                        onClick={() => setSelectedFlower(flower)}
                                        className="group cursor-pointer relative h-48 md:h-64 glass rounded-xl flex flex-col items-center justify-center overflow-hidden transition-all duration-500 hover:-translate-y-2 hover:bg-white/5"
                                        style={{animationDelay: `${idx * 100}ms`}}
                                    >
                                        <div className={`absolute inset-0 bg-gradient-to-b ${flower.color} opacity-0 group-hover:opacity-20 transition-opacity duration-700`}></div>
                                        
                                        {/* çº¯æ–‡å­—å±•ç¤º */}
                                        <div className="mt-4 text-center z-10 transition-transform duration-700 group-hover:scale-105">
                                            <h3 className="font-serif-sc text-2xl text-white/90 mb-1">{flower.name}</h3>
                                            <p className="text-xs text-white/30 uppercase tracking-widest group-hover:text-white/60 transition-colors">{flower.en}</p>
                                        </div>

                                        <div className="absolute bottom-2 right-2 w-2 h-2 bg-white/20 rounded-full blur-[1px] opacity-0 group-hover:opacity-100 transition-all duration-500 translate-y-4 group-hover:translate-y-0"></div>
                                    </div>
                                ))}
                            </div>

                            <div className="text-center mb-12 z-10 relative">
                                <p className="text-white/20 text-sm font-light italic">
                                    "æˆ‘ä»¬ç»ˆå…¶ä¸€ç”Ÿï¼Œéƒ½åœ¨å¯»æ‰¾ä¸€ä¸ªèƒ½è¢«çœ‹è§çš„èˆå°ã€‚"
                                </p>
                            </div>

                            {selectedFlower && (
                                <FlowerModal 
                                    flower={selectedFlower} 
                                    onClose={() => setSelectedFlower(null)} 
                                />
                            )}
                        </div>
                    )}
                    
                    {/* Toast æç¤ºæ¡†åœ¨æ‰€æœ‰å†…å®¹ä¹‹ä¸Š */}
                    <ToastMessage message={message} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>